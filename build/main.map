{"version":3,"sources":["webpack:///webpack/bootstrap aa9977eb6ab792e55af5","webpack:///external \"express\"","webpack:///external \"mongoose\"","webpack:///external \"path\"","webpack:///./server/common/logger.js","webpack:///./models/nodePost.model.js","webpack:///./server/index.js","webpack:///./server/common/env.js","webpack:///external \"dotenv\"","webpack:///./server/common/server.js","webpack:///external \"body-parser\"","webpack:///external \"http\"","webpack:///external \"os\"","webpack:///external \"cookie-parser\"","webpack:///./server/common/swagger/index.js","webpack:///external \"swagger-express-middleware\"","webpack:///external \"pino\"","webpack:///./server/routes.js","webpack:///./server/api/controllers/examples/router.js","webpack:///./server/api/controllers/examples/controllerExamples.js","webpack:///./server/api/services/examples.service.js","webpack:///./server/api/services/examples.db.service.js","webpack:///./server/api/controllers/nodePost/router.js","webpack:///./server/api/controllers/nodePost/controllerNodePost.js","webpack:///external \"pug\"","webpack:///./custom_modules/dbconn.js","webpack:///./server/api/services/algolia.service.js","webpack:///external \"axios\""],"names":["l","name","process","env","APP_ID","level","LOG_LEVEL","Schema","require","nodePost","id","Number","title","String","author","date","router","listen","PORT","config","path","bodyParser","http","os","app","ExpressServer","constructor","root","normalize","__dirname","set","use","json","urlencoded","extended","SESSION_SECRET","static","routes","port","welcome","p","info","hostname","createServer","join","err","mw","enable","metadata","files","caseSensitive","strict","useBasePath","apiPath","SWAGGER_API_SPEC","parseRequest","cookie","secret","limit","REQUEST_LIMIT","CORS","req","res","next","status","send","message","express","Router","post","create","get","all","byId","ControllerExamples","then","r","params","end","body","location","ExamplesService","insert","ExamplesDatabase","_data","_counter","Promise","resolve","record","push","delete","remove","model","ControllerNodePost","console","log","success","find","error","docs","render","doc","succes","data","POPULATE_TABLE","dbURI","connect","useMongoClient","connection","on","close","exit","once","collection","response","posts","hits","i","_post","created_at_i","story_title","created_at","catch","query","Algolia","reject"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap aa9977eb6ab792e55af5","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 2\n// module chunks = 0","import pino from 'pino';\n\nconst l = pino({\n  name: process.env.APP_ID,\n  level: process.env.LOG_LEVEL,\n});\n\nexport default l;\n\n\n\n// WEBPACK FOOTER //\n// ./server/common/logger.js","var Schema = require('mongoose').Schema\n\nvar nodePost = new Schema({\n  id           :   Number,\n  title        :   String,\n  author       :   String,\n  date         :   String\n});\n\nexport default nodePost;\n\n\n// WEBPACK FOOTER //\n// ./models/nodePost.model.js","import './common/env';\nimport Server from './common/server';\nimport routes from './routes';\n\nimport '../custom_modules/dbconn';\n\nexport default new Server()\n  .router(routes)\n  .listen(process.env.PORT);\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js","import dotenv from 'dotenv';\n\ndotenv.config();\n\n\n\n// WEBPACK FOOTER //\n// ./server/common/env.js","module.exports = require(\"dotenv\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dotenv\"\n// module id = 8\n// module chunks = 0","import Express from 'express';\nimport * as path from 'path';\nimport * as bodyParser from 'body-parser';\nimport * as http from 'http';\nimport * as os from 'os';\nimport cookieParser from 'cookie-parser';\nimport swaggerify from './swagger';\nimport l from './logger';\n\nconst app = new Express();\n\nexport default class ExpressServer {\n  constructor() {\n    const root = path.normalize(`${__dirname}/../..`);\n    app.set('appPath', `${root}client`);\n    app.set('view engine', 'pug');\n    app.use(bodyParser.json());\n    app.use(bodyParser.urlencoded({ extended: true }));\n    app.use(cookieParser(process.env.SESSION_SECRET));\n    app.use(Express.static(`${root}/public`));\n  }\n\n  router(routes) {\n    swaggerify(app, routes);\n    return this;\n  }\n\n  listen(port = process.env.PORT) {\n    const welcome = p => () => l.info(`up and running in ${process.env.NODE_ENV || 'development'} @: ${os.hostname()} on port: ${p}}`);\n    http.createServer(app).listen(port, welcome(port));\n    return app;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/common/server.js","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"os\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"os\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"cookie-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cookie-parser\"\n// module id = 13\n// module chunks = 0","import middleware from 'swagger-express-middleware';\nimport * as path from 'path';\n\nexport default function (app, routes) {\n  middleware(path.join(__dirname, 'Api.yaml'), app, (err, mw) => {\n    // Enable Express' case-sensitive and strict options\n    // (so \"/entities\", \"/Entities\", and \"/Entities/\" are all different)\n    app.enable('case sensitive routing');\n    app.enable('strict routing');\n\n    app.use(mw.metadata());\n    app.use(mw.files({\n      // Override the Express App's case-sensitive \n      // and strict-routing settings for the Files middleware.\n      caseSensitive: false,\n      strict: false,\n    }, {\n      useBasePath: true,\n      apiPath: process.env.SWAGGER_API_SPEC,\n      // Disable serving the \"Api.yaml\" file\n      // rawFilesPath: false\n    }));\n\n    app.use(mw.parseRequest({\n      // Configure the cookie parser to use secure cookies\n      cookie: {\n        secret: process.env.SESSION_SECRET,\n      },\n      // Don't allow JSON content over 100kb (default is 1mb)\n      json: {\n        limit: process.env.REQUEST_LIMIT,\n      },\n    }));\n\n    // These two middleware don't have any options (yet)\n    app.use(\n      mw.CORS()\n      //mw.validateRequest()\n    );\n\n    // Error handler to display the validation error as HTML\n    app.use((err, req, res, next) => { // eslint-disable-line no-unused-vars, no-shadow\n      res.status(err.status || 500);\n      res.send(\n        `<h1>${err.status || 500} Error</h1>` +\n        `<pre>${err.message}</pre>`);\n    });\n\n    routes(app);\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/common/swagger/index.js","module.exports = require(\"swagger-express-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"swagger-express-middleware\"\n// module id = 15\n// module chunks = 0","module.exports = require(\"pino\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"pino\"\n// module id = 16\n// module chunks = 0","import examplesRouter from './api/controllers/examples/router';\nimport nodePostRouter from './api/controllers/nodePost/router';\n\nexport default function routes(app) {\n  app.use('/api/v1/examples', examplesRouter);\n  app.use('/api/v1/nodepost', nodePostRouter);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes.js","import * as express from 'express';\nimport ControllerExamples from './controllerExamples';\n\nexport default express\n.Router()\n.post('/', ControllerExamples.create)\n.get('/', ControllerExamples.all)\n.get('/:id', ControllerExamples.byId);\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/controllers/examples/router.js","import ExamplesService from '../../services/examples.service';\n\nexport class ControllerExamples {\n  \n  all(req, res) {\n    ExamplesService.all()\n      .then(r => res.json(r));\n  }\n\n  byId(req, res) {\n    ExamplesService\n      .byId(req.params.id)\n      .then(r => {\n        if (r) res.json(r);\n        else res.status(404).end();\n      });\n  }\n\n  create(req, res) {\n    ExamplesService\n      .create(req.body.name)\n      .then(r => res\n        .status(201)\n        .location(`/api/v1/examples/${r.id}`)\n        .json(r));\n  }\n\n}\n\nexport default new ControllerExamples();\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/controllers/examples/controllerExamples.js","import l from '../../common/logger';\nimport db from './examples.db.service';\n\nclass ExamplesService {\n  all() {\n    l.info(`${this.constructor.name}.all()`);\n    return db.all();\n  }\n\n  byId(id) {\n    l.info(`${this.constructor.name}.byId(${id})`);\n    return db.byId(id);\n  }\n\n  create(name) {\n    return db.insert(name);\n  }\n}\n\nexport default new ExamplesService();\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/services/examples.service.js","class ExamplesDatabase {\n  constructor() {\n    this._data = [];\n    this._counter = 0;\n\n    this.insert('example 0');\n    this.insert('example 1');\n  }\n\n  all() {\n    return Promise.resolve(this._data);\n  }\n\n  byId(id) {\n    return Promise.resolve(this._data[id]);\n  }\n\n  insert(name) {\n    const record = {\n      id: this._counter,\n      name,\n    };\n\n    this._counter += 1;\n    this._data.push(record);\n\n    return Promise.resolve(record);\n  }\n}\n\nexport default new ExamplesDatabase();\n\n\n\n// WEBPACK FOOTER //\n// ./server/api/services/examples.db.service.js","import * as express from 'express';\nimport ControllerNodePost from './controllerNodePost';\n\nexport default express\n.Router()\n.get('/', ControllerNodePost.all)\n.get('/:id', ControllerNodePost.byId)\n.delete('/:id', ControllerNodePost.remove);\n\n\n// WEBPACK FOOTER //\n// ./server/api/controllers/nodePost/router.js","import pug from 'pug';\nimport mongoose from 'mongoose';\nimport nodePostSchema from '../../../../models/nodePost.model';\nconst nodePost = mongoose.model('nodePost', nodePostSchema);\n\nexport class ControllerNodePost {\n    \n    remove(req, res) {\n        const id = req.params.id\n        console.log('id', id);\n        nodePost.remove({'id':id },(err) => {\n            if (err) console.log('err',err)\n        });\n        res.json({success:true});\n    }\n\n    all(req, res) {\n        nodePost.find({}, (error,docs) => {\n            res.render('index',{ title: 'Node Post', message: 'Welcome!', 'posts': docs})\n        })\n    }\n    \n    byId(req, res) {\n        const id = req.params.id\n        nodePost.find({'id': id}, (error,doc) => {\n            res.json({succes: true, data: doc})\n        })\n    }\n\n  }\n  export default new ControllerNodePost();\n\n\n// WEBPACK FOOTER //\n// ./server/api/controllers/nodePost/controllerNodePost.js","module.exports = require(\"pug\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"pug\"\n// module id = 24\n// module chunks = 0","\n// Bring Mongoose into the app \n//var mongoose = require( 'mongoose' ); \nimport mongoose from 'mongoose';\nimport nodePostSchema from '../models/nodePost.model';\nimport AlgoliaService from '../server/api/services/algolia.service';\n\nconst POPULATE_TABLE = true;\n\n// Build the connection string \nvar dbURI = 'mongodb://localhost/nodepost'; \n\n// Create the database connection \nmongoose.connect(dbURI, { useMongoClient: true }); \n\n// CONNECTION EVENTS\n// When successfully connected\nmongoose.connection.on('connected', function () {  \n  console.log('Mongoose default connection open to ' + dbURI);\n}); \n\n// If the connection throws an error\nmongoose.connection.on('error',function (err) {  \n  console.log('Mongoose default connection error: ' + err);\n}); \n\n// When the connection is disconnected\nmongoose.connection.on('disconnected', function () {  \n  console.log('Mongoose default connection disconnected'); \n});\n\n// If the Node process ends, close the Mongoose connection \nprocess.on('SIGINT', function() {  \n  mongoose.connection.close(function () { \n    console.log('Mongoose default connection disconnected through app termination'); \n    process.exit(0); \n  }); \n}); \n\nmongoose.connection.once('open', function() {\n    console.log('Connected!')\n\n    if (!POPULATE_TABLE) {\n      console.log('Database Not Sync');\n      return;\n    }\n\n    const nodePost = mongoose.model('nodePost', nodePostSchema);\n    /* truncate table */\n    nodePost.collection.remove()\n    /* fill table with the service */\n    AlgoliaService.all().then(response => {\n      const posts = response.hits\n      for (var i in posts){\n        const p = posts[i];\n        var _post = { 'id': p.created_at_i, 'title': (p.story_title) ? p.story_title : p.title, 'author': p.author,'date': p.created_at }\n        // console.log('_post', _post)\n        nodePost.create(_post)\n      }\n      console.log('Database Sync');\n    }).catch((error) => {\n      console.log('error',error)\n    })\n\n  });\n\n\n// WEBPACK FOOTER //\n// ./custom_modules/dbconn.js","import axios from 'axios'\nconst query = 'http://hn.algolia.com/api/v1/search_by_date?query=nodejs'\n\nclass Algolia {\n    all ( ) {\n        return new Promise( (resolve,reject)  => {\n            axios.get(query).then((response) => {\n                resolve(response.data)\n            }).catch((error) => {\n                reject(error);\n            });\n        })\n    }\n}\n\nexport default new Algolia();\n\n\n// WEBPACK FOOTER //\n// ./server/api/services/algolia.service.js","module.exports = require(\"axios\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"axios\"\n// module id = 27\n// module chunks = 0"],"sourceRoot":""}